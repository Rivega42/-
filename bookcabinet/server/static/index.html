<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–π —à–∫–∞—Ñ –∫–Ω–∏–≥–æ–≤—ã–¥–∞—á–∏</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div id="app">
        <div id="welcome-screen" class="screen active">
            <div class="logo">üìö</div>
            <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h1>
            <p class="subtitle">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —à–∫–∞—Ñ –∫–Ω–∏–≥–æ–≤—ã–¥–∞—á–∏</p>
            
            <div class="card-prompt">
                <div class="card-icon">üí≥</div>
                <p>–ü—Ä–∏–ª–æ–∂–∏—Ç–µ –∫–∞—Ä—Ç—É —á–∏—Ç–∞—Ç–µ–ª—è</p>
                <p class="hint">–∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</p>
            </div>
            
            <div class="test-buttons">
                <button class="btn btn-primary btn-lg" onclick="authenticate('CARD001')">
                    üë§ –ß–∏—Ç–∞—Ç–µ–ª—å
                </button>
                <button class="btn btn-secondary btn-lg" onclick="authenticate('ADMIN01')">
                    üìñ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—å
                </button>
                <button class="btn btn-outline btn-lg" onclick="authenticate('ADMIN99')">
                    üîß –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
                </button>
            </div>
        </div>
        
        <div id="reader-menu" class="screen">
            <header>
                <button class="btn-back" onclick="logout()">‚Üê –í—ã—Ö–æ–¥</button>
                <h2>–ú–µ–Ω—é —á–∏—Ç–∞—Ç–µ–ª—è</h2>
                <div class="user-info" id="user-info"></div>
            </header>
            
            <div class="menu-grid">
                <div class="menu-card" onclick="showScreen('book-list')">
                    <div class="icon">üìñ</div>
                    <h3>–ó–∞–±—Ä–∞—Ç—å –∫–Ω–∏–≥—É</h3>
                    <p id="reserved-count">0 –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ</p>
                </div>
                <div class="menu-card" onclick="showScreen('return-book')">
                    <div class="icon">‚Ü©Ô∏è</div>
                    <h3>–í–µ—Ä–Ω—É—Ç—å –∫–Ω–∏–≥—É</h3>
                    <p>–ü–æ–ª–æ–∂–∏—Ç–µ –∫–Ω–∏–≥—É –≤ –æ–∫–Ω–æ</p>
                </div>
            </div>
        </div>
        
        <div id="librarian-menu" class="screen">
            <header>
                <button class="btn-back" onclick="logout()">‚Üê –í—ã—Ö–æ–¥</button>
                <h2>–ú–µ–Ω—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—è</h2>
                <div class="user-info" id="librarian-info"></div>
            </header>
            
            <div id="extraction-alert" class="alert alert-warning hidden">
                <span id="extraction-count">0</span> –∫–Ω–∏–≥ —Ç—Ä–µ–±—É—é—Ç –∏–∑—ä—è—Ç–∏—è
                <button class="btn btn-sm" onclick="extractAll()">–ò–∑—ä—è—Ç—å –≤—Å–µ</button>
            </div>
            
            <div class="menu-grid cols-3">
                <div class="menu-card" onclick="showScreen('load-books')">
                    <div class="icon">‚ûï</div>
                    <h3>–ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–Ω–∏–≥–∏</h3>
                    <p>–î–æ–±–∞–≤–∏—Ç—å –≤ —à–∫–∞—Ñ</p>
                </div>
                <div class="menu-card" onclick="showScreen('extract-books')">
                    <div class="icon">üì¶</div>
                    <h3>–ò–∑—ä—è—Ç—å –∫–Ω–∏–≥–∏</h3>
                    <p>–ó–∞–±—Ä–∞—Ç—å –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã–µ</p>
                </div>
                <div class="menu-card" onclick="runInventory()">
                    <div class="icon">üîç</div>
                    <h3>–ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è</h3>
                    <p>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ</p>
                </div>
            </div>
        </div>
        
        <div id="book-list" class="screen">
            <header>
                <button class="btn-back" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>–í–∞—à–∏ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏</h2>
            </header>
            <div id="books-container" class="list-container"></div>
        </div>
        
        <div id="return-book" class="screen">
            <header>
                <button class="btn-back" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>–í–æ–∑–≤—Ä–∞—Ç –∫–Ω–∏–≥–∏</h2>
            </header>
            <div class="center-content">
                <div class="icon-lg">üì¶</div>
                <p class="instruction">–ü–æ–ª–æ–∂–∏—Ç–µ –∫–Ω–∏–≥—É –≤ –æ–∫–Ω–æ –ø—Ä–∏—ë–º–∞</p>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 30%"></div>
                </div>
                <p class="hint">–û–∂–∏–¥–∞–Ω–∏–µ –∫–Ω–∏–≥–∏...</p>
            </div>
        </div>
        
        <div id="load-books" class="screen">
            <header>
                <button class="btn-back" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–Ω–∏–≥–∏</h2>
            </header>
            <div class="form-container">
                <div class="form-group">
                    <label>RFID-–º–µ—Ç–∫–∞ –∫–Ω–∏–≥–∏ *</label>
                    <input type="text" id="load-rfid" placeholder="–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ RFID">
                </div>
                <div class="form-group">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ *</label>
                    <input type="text" id="load-title" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ">
                </div>
                <div class="form-group">
                    <label>–ê–≤—Ç–æ—Ä</label>
                    <input type="text" id="load-author" placeholder="–í–≤–µ–¥–∏—Ç–µ –∞–≤—Ç–æ—Ä–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
                </div>
                <button class="btn btn-primary btn-block" onclick="loadBook()">
                    ‚ûï –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–Ω–∏–≥—É
                </button>
            </div>
        </div>
        
        <div id="extract-books" class="screen">
            <header>
                <button class="btn-back" onclick="goBack()">‚Üê –ù–∞–∑–∞–¥</button>
                <h2>–ò–∑—ä—è—Ç–∏–µ –∫–Ω–∏–≥</h2>
            </header>
            <div id="extraction-list" class="list-container"></div>
        </div>
        
        <div id="progress-screen" class="screen">
            <div class="center-content">
                <div class="spinner"></div>
                <h2 id="progress-message">–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏—è...</h2>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <p class="hint">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ</p>
            </div>
        </div>
        
        <div id="success-screen" class="screen">
            <div class="center-content success">
                <div class="icon-lg">‚úÖ</div>
                <h2>–£—Å–ø–µ—à–Ω–æ!</h2>
                <p id="success-message"></p>
                <button class="btn btn-primary btn-lg" onclick="goBack()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            </div>
        </div>
        
        <div id="error-screen" class="screen">
            <div class="center-content error">
                <div class="icon-lg">‚ùå</div>
                <h2>–û—à–∏–±–∫–∞</h2>
                <p id="error-message"></p>
                <button class="btn btn-danger btn-lg" onclick="goBack()">–ù–∞–∑–∞–¥</button>
            </div>
        </div>
    </div>
    
    <script src="/static/js/app.js"></script>
</body>
</html>
