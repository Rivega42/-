# BookCabinet ‚Äî –ñ—É—Ä–Ω–∞–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (DEVLOG)

> –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∏—Å—Ç–æ—Ä–∏—é —Ä–µ—à—ë–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º. –ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ "–∏–∑–æ–±—Ä–µ—Ç–∞—Ç—å –≤–µ–ª–æ—Å–∏–ø–µ–¥" ‚Äî –ø—Ä–æ–≤–µ—Ä—å, –Ω–µ —Ä–µ—à–∞–ª–∏ –ª–∏ –º—ã —ç—Ç–æ —Ä–∞–Ω—å—à–µ.

---

## üìÖ –Ø–Ω–≤–∞—Ä—å 2026

### [2026-01-10] RFID –ø—Ä–æ—Ç–æ–∫–æ–ª ‚Äî –Ω–∞–π–¥–µ–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ –º–æ–ª—á–∞–Ω–∏—è IQRFID-5102

**–ü—Ä–æ–±–ª–µ–º–∞:** –°—á–∏—Ç—ã–≤–∞—Ç–µ–ª—å IQRFID-5102 –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã

**–ü—Ä–∏—á–∏–Ω–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª!

| ‚ùå –ö–∞–∫ –¥–µ–ª–∞–ª–∏ | ‚úÖ –ö–∞–∫ –Ω–∞–¥–æ |
|--------------|-------------|
| –ó–∞–≥–æ–ª–æ–≤–æ–∫ `0x04` | –ó–∞–≥–æ–ª–æ–≤–æ–∫ `0xA0` |
| CRC-16 | Checksum `(~SUM + 1) & 0xFF` |
| Inventory cmd `0x01` | Inventory cmd `0x80` |

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `uhf_rfid_test.py` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
```bash
python3 uhf_rfid_test.py /dev/ttyUSB0
python3 uhf_rfid_test.py /dev/ttyUSB0 find  # –ø–æ–∏—Å–∫ —Å–∫–æ—Ä–æ—Å—Ç–∏
```

**–í–∞–∂–Ω–æ:** –ò –∫–∞—Ä—Ç—ã –∏ –∫–Ω–∏–≥–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ UHF (860-960 MHz), –ø–æ—ç—Ç–æ–º—É IQRFID-5102 –º–æ–∂–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å RRU9816.

---

### [2026-01-10] –û—à–∏–±–∫–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ ‚Äî D13 –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** –í RPI3_WIRING_FINAL.md —É–∫–∞–∑–∞–Ω –ø–∏–Ω D13 –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —à—Ç–æ—Ä–∫–∏

**–ü—Ä–∏—á–∏–Ω–∞:** Arduino Nano –Ω–µ –∏–º–µ–µ—Ç D13 –¥–ª—è —Å–∏–≥–Ω–∞–ª–æ–≤ (—ç—Ç–æ LED_BUILTIN)

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ D2 (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ)

---

### [2026-01-10] WiFi –Ω–∞ RPi3 –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** `iwconfig` –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç wlan0, NetworkManager –≤–∏–¥–∏—Ç —Å–µ—Ç–∏ –Ω–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
vcgencmd get_throttled  # –ü–æ–∫–∞–∑–∞–ª–æ 0x50005 ‚Äî under-voltage!
dmesg | grep -i wifi    # "mmc1: Failed to initialize"
```

**–ü—Ä–∏—á–∏–Ω–∞:** –°–ª–∞–±—ã–π –±–ª–æ–∫ –ø–∏—Ç–∞–Ω–∏—è ‚Äî WiFi —á–∏–ø BCM43430 –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø—Ä–∏ –ø–æ–¥-–Ω–∞–ø—Ä—è–∂–µ–Ω–∏–∏

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–∏—Ç—å –ë–ü –Ω–∞ 5V/2.5-3A (–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π, –Ω–µ –∫–∏—Ç–∞–π—Å–∫–∏–π –Ω–æ—É–Ω–µ–π–º)

---

### [2026-01-10] –¢–∞—á—Å–∫—Ä–∏–Ω –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ Y

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞—Å–∞–Ω–∏–µ –≤–≤–µ—Ä—Ö—É —ç–∫—Ä–∞–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤–Ω–∏–∑—É

**–†–µ—à–µ–Ω–∏–µ:** udev rule —Å –º–∞—Ç—Ä–∏—Ü–µ–π —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏:
```bash
sudo nano /etc/udev/rules.d/99-touchscreen.rules
```
```
ENV{ID_VENDOR_ID}=="222a", ENV{ID_MODEL_ID}=="0001", ENV{LIBINPUT_CALIBRATION_MATRIX}="1 0 0 0 -1 1 0 0 1"
```

---

## üìÖ –î–µ–∫–∞–±—Ä—å 2025

### [2025-12-29] –ü—Ä–æ—à–∏–≤–∫–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∏ `expected unqualified-id before 'while'`

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–ø—É—â–µ–Ω `if` –Ω–∞ —Å—Ç—Ä–æ–∫–µ 1851, –ª–∏—à–Ω—è—è `}` –Ω–∞ —Å—Ç—Ä–æ–∫–µ 2046

**–ë—ã–ª–æ:**
```cpp
char mode = Serial.read();
    Serial.println(F(">>> –ê–í–¢–û-–†–ï–ñ–ò–ú..."));
}  // ‚Üê –ª–∏—à–Ω—è—è —Å–∫–æ–±–∫–∞!
```

**–°—Ç–∞–ª–æ:**
```cpp
Serial.read();  // –û—á–∏—Å—Ç–∫–∞ –±—É—Ñ–µ—Ä–∞
```

---

### [2025-12-29] –ü—Ä–æ—à–∏–≤–∫–∞ –Ω–µ –≤–ª–µ–∑–∞–µ—Ç –≤ Arduino Nano

**–ü—Ä–æ–±–ª–µ–º–∞:** `Sketch uses 55834 bytes (181%) of program storage space`

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ—à–∏–≤–∫–∞ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è (55KB –∏–∑ 30KB –¥–æ—Å—Ç—É–ø–Ω—ã—Ö)

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∞ LITE –≤–µ—Ä—Å–∏—è ‚Äî 15,674 –±–∞–π—Ç (51% –ø–∞–º—è—Ç–∏):
- –£–±—Ä–∞–Ω—ã: –ø–æ–ª–Ω—ã–µ —Ü–∏–∫–ª—ã, –∫–∏–Ω–µ–º–∞—Ç–∏–∫–∞, –¥–µ—Ç–∞–ª—å–Ω–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞
- –û—Å—Ç–∞–≤–ª–µ–Ω—ã: –¥–∞—Ç—á–∏–∫–∏, —à—Ç–æ—Ä–∫–∏, –∑–∞–º–∫–∏, —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, EEPROM

---

### [2025-12-28] 16 –±–∞–≥–æ–≤ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ—à–∏–≤–∫–µ Arduino

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–æ—à–∏–≤–∫–∞ mechanics4.ino –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª–∞—Å—å

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –±–∞–≥–∏:**

| # | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –ü—Ä–æ–±–ª–µ–º–∞ |
|---|------|-------|----------|
| 1-4 | `doorsOutSidePIN`, `servosLock1PIN` | `doorOutSidePIN`, `servoLock1PIN` | –õ–∏—à–Ω—è—è "s" |
| 5-6 | –°—Å—ã–ª–∫–∞ –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ | –Ø–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è | –¶–µ–ø–æ—á–∫–∞ undefined |
| 7 | `== sensorsTrayEndPIN` | `== sensorsTrayEndTrigger` | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –Ω–æ–º–µ—Ä–æ–º –ø–∏–Ω–∞ |
| 8 | `doorOutSideActionedTime` | `doorInSideActionedTime` | –ö–æ–ø–∏–ø–∞—Å—Ç–∞ |
| 9 | –ü–∏–Ω—ã –¥–∞—Ç—á–∏–∫–æ–≤ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã | `pinMode(pin, INPUT)` | –ú—É—Å–æ—Ä –Ω–∞ –≤—Ö–æ–¥–∞—Ö |
| 10-11 | `servoLockActionDelay` –∫–∞–∫ —É–∫–∞–∑–∞—Ç–µ–ª—å | –†–∞–∑–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ | –ß–∏—Å–ª–æ –≤–º–µ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ |
| 12 | `ubound(algos[cmd])` | `algoSizes[cmd]` | sizeof —É–∫–∞–∑–∞—Ç–µ–ª—è = 4 |
| 13 | –ë–ª–æ–∫–∏—Ä—É—é—â–∏–π Serial | –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π –±—É—Ñ–µ—Ä | –ú–æ—Ç–æ—Ä—ã –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª–∏—Å—å |
| 14 | –ù–µ—Ç CRC | XOR –≤—Å–µ—Ö –±–∞–π—Ç | –ú—É—Å–æ—Ä–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã |
| 15 | –ù–µ—Ç —Ç–∞–π–º–∞—É—Ç–æ–≤ | 45 —Å–µ–∫ –ª–∏–º–∏—Ç | –ó–∞–≤–∏—Å–∞–Ω–∏–µ |
| 16 | Extended –≤–æ –≤—Ä–µ–º—è Legacy | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ | –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∫–æ–º–∞–Ω–¥ |

---

### [2025-12-28] –î–∞—Ç—á–∏–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∏–Ω–≤–µ—Ä—Å–Ω—É—é –ª–æ–≥–∏–∫—É

**–ü—Ä–æ–±–ª–µ–º–∞:** –û–∂–∏–¥–∞–ª–∏ raw=1 –∫–æ–≥–¥–∞ –Ω–∞–∂–∞—Ç, –ø–æ–ª—É—á–∞–ª–∏ raw=0

**–ü—Ä–∏—á–∏–Ω–∞:** –î–∞—Ç—á–∏–∫–∏ —Å NPN –≤—ã—Ö–æ–¥–æ–º ‚Äî –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ –ø—Ä–∏—Ç—è–≥–∏–≤–∞—é—Ç –∫ –∑–µ–º–ª–µ

**–†–µ—à–µ–Ω–∏–µ:** –ò–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤ –∫–æ–¥–µ:
```cpp
bool pressed = (digitalRead(pin) == LOW);  // –ù–ï HIGH!
```

---

### [2025-12-23] shelf_server.py –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ Windows

**–ü—Ä–æ–±–ª–µ–º–∞:** BAT —Ñ–∞–π–ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ —Å—Ä–∞–∑—É –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞ 1:** –ü—É—Ç—å —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∏—Ä–∏–ª–ª–∏—Ü—É ‚Äî –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π

**–ü—Ä–∏—á–∏–Ω–∞ 2:** –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω pyserial

**–†–µ—à–µ–Ω–∏–µ:**
```cmd
pip install pyserial
cd C:\–ø—É—Ç—å\–∫\–ø—Ä–æ–µ–∫—Ç—É
python shelf_server.py COM8
```

---

## üìÖ –°–µ–Ω—Ç—è–±—Ä—å 2025

### [2025-09-14] –í—ã–±–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ ‚Äî –ø–æ—á–µ–º—É Python

**–†–µ—à–µ–Ω–∏–µ:** –û—Ç–∫–∞–∑–∞–ª–∏—Å—å –æ—Ç C# –≤ –ø–æ–ª—å–∑—É Python + pyirbis

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å (Windows + Linux/RPi)
- –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞  
- –ü—Ä–æ—â–µ —Ä–∞–±–æ—Ç–∞ —Å Serial/USB
- –ì–æ—Ç–æ–≤–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ pyirbis –¥–ª—è –ò–†–ë–ò–°

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω—é–∞–Ω—Å—ã (–ø–æ–º–Ω–∏ –≤—Å–µ–≥–¥–∞!)

### –¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è –∑–∞–º–∫–æ–≤
```
Open  = —è–∑—ã—á–æ–∫ –û–ü–£–©–ï–ù (0¬∞)  = –ø–æ–ª–∫–∞ —Å–≤–æ–±–æ–¥–Ω–∞
Close = —è–∑—ã—á–æ–∫ –ü–û–î–ù–Ø–¢ (95¬∞) = –∑–∞—Ö–≤–∞—Ç –ø–æ–ª–∫–∏
```
–≠—Ç–æ **–ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ** –∏–Ω—Ç—É–∏—Ü–∏–∏!

### –°–µ—Ç–∫–∞ —è—á–µ–µ–∫
- 21 —Ä—è–¥: 0-20 (–Ω–µ 1-21!)
- 3 –∫–æ–ª–æ–Ω–∫–∏: 0-2
- –û–∫–Ω–æ –≤—ã–¥–∞—á–∏: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (1, 9)

### RFID —á–∞—Å—Ç–æ—Ç—ã
| –ß–∞—Å—Ç–æ—Ç–∞ | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –°—á–∏—Ç—ã–≤–∞—Ç–µ–ª—å |
|---------|------------|-------------|
| 13.56 MHz | NFC/HF (MIFARE, –ï–ö–ü) | ACR1281U-C |
| 125 kHz | LF (EM4100) | RDM6300 |
| 860-960 MHz | UHF (EPC Gen2) | IQRFID-5102, RRU9816 |

### GPIO –¥–∞—Ç—á–∏–∫–æ–≤
–ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–¥—Ç—è–∂–∫—É RPi ‚Äî –≤–Ω–µ—à–Ω–∏–µ —Ä–µ–∑–∏—Å—Ç–æ—Ä—ã –ù–ï –Ω—É–∂–Ω—ã:
```python
GPIO.setup(pin, GPIO.IN, pull_up_down=GPIO.PUD_UP)
```

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- –†–µ—Ñ–µ—Ä–µ–Ω—Å –ò–†–ë–ò–°: https://github.com/valinerosgordov/RFIDShkafWithIRBIS
- –ü—Ä–æ—Ç–æ–∫–æ–ª UHF RFID: –∑–∞–≥–æ–ª–æ–≤–æ–∫ 0xA0, checksum = (~SUM + 1) & 0xFF
- –ò–†–ë–ò–° API: TCP –ø–æ—Ä—Ç 6666, –∫–æ–¥–∏—Ä–æ–≤–∫–∞ cp1251
