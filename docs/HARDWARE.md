# Инвентарь оборудования (HARDWARE)

> Что есть, где купить замену, гарантия.

---

## 🖥️ Основное оборудование

### Raspberry Pi 3 Model B
| Параметр | Значение |
|----------|----------|
| Роль | Основной контроллер (сервер + GPIO + интерфейс) |
| ОС | Raspberry Pi OS (Bookworm) |
| IP | 10.10.31.12 (статический) |
| Hostname | Shkaf |
| SSH | admin42@10.10.31.12 |
| Требования к БП | 5V / 2.5A минимум! |
| Где купить | Любой магазин электроники |

### Блок питания RPi
| Параметр | Значение |
|----------|----------|
| Требования | 5V / 2.5-3A, качественный |
| ⚠️ Важно | Дешёвые БП вызывают under-voltage → WiFi не работает |
| Проверка | `vcgencmd get_throttled` → должно быть 0x0 |

---

## 📡 RFID-считыватели

### ACR1281U-C (NFC) — только ЕКП!
| Параметр | Значение |
|----------|----------|
| Частота | 13.56 MHz (NFC/HF) |
| Назначение | **Только ЕКП** (Единая Карта Петербуржца) |
| Интерфейс | USB (PC/SC API) |
| Расположение | Зона идентификации |
| Кол-во | 1 шт |
| Статус | ✅ Работает |
| Библиотека Python | pyscard |
| Где купить | AliExpress, ~2000₽ |

### IQRFID-5102 (UHF) — карты + книги
| Параметр | Значение |
|----------|----------|
| Частота | 860-960 MHz (UHF) |
| Назначение | Библиотечные карты + книжные метки |
| Интерфейс | USB-Serial (ttyUSB) |
| Протокол | 0xA0, checksum (~SUM+1)&0xFF |
| Скорость | 57600 baud |
| Статус | ⚠️ Тестируется |
| Где купить | AliExpress "CF-RU5102", ~3000₽ |

**⚠️ НУЖНО 2 ШТУКИ:**

| # | Расположение | Назначение |
|---|--------------|------------|
| 1 | Зона идентификации | Библиотечная карта читателя |
| 2 | Окно выдачи книг | Сканирование книжных меток |

### RRU9816 (UHF, старый) — НЕ ИСПОЛЬЗУЕМ
| Параметр | Значение |
|----------|----------|
| Частота | 860-960 MHz (UHF) |
| Проблема | Требует Windows DLL, закрытый протокол |
| Статус | ❌ Не используется |
| Решение | Заменён на IQRFID-5102 |

---

## 📍 Схема размещения считывателей

```
┌─────────────────────────────────────────────────────┐
│                     ШКАФ                            │
│                                                     │
│  ┌─────────────────┐          ┌─────────────────┐  │
│  │ ЗОНА            │          │ ОКНО ВЫДАЧИ     │  │
│  │ ИДЕНТИФИКАЦИИ   │          │                 │  │
│  │                 │          │ IQRFID-5102 #2  │  │
│  │ • ACR1281U-C    │          │ (книги)         │  │
│  │   (ЕКП)         │          │                 │  │
│  │                 │          └─────────────────┘  │
│  │ • IQRFID-5102#1 │                               │
│  │   (библ.карта)  │                               │
│  │                 │                               │
│  │ • Тачскрин      │                               │
│  └─────────────────┘                               │
│                                                     │
└─────────────────────────────────────────────────────┘
```

---

## ⚙️ Механика

### Сервоприводы замков
| Параметр | Значение |
|----------|----------|
| Кол-во | 2 шт (Lock1 + Lock2) |
| GPIO | 18 (PWM0), 13 (PWM1) |
| Угол Open | 0° (язычок опущен) |
| Угол Close | 95° (язычок поднят) |

### Шаговые двигатели
| Мотор | Назначение | GPIO STEP | GPIO DIR |
|-------|------------|-----------|----------|
| Motor A | Ось X | 2 | 3 |
| Motor B | Ось Y | 19 | 21 |
| Tray | Платформа | 24 | 25 |

### Датчики концевые
| Датчик | Назначение | GPIO |
|--------|------------|------|
| X Begin | Начало X | 10 |
| X End | Конец X | 9 |
| Y Begin | Начало Y | 11 |
| Y End | Конец Y | 8 |
| Tray Begin | Платформа начало | 7 |
| Tray End | Платформа конец | 20 |

**⚠️ Резисторы НЕ нужны** — используется GPIO.PUD_UP

---

## 🖥️ Интерфейс

### Тачскрин
| Параметр | Значение |
|----------|----------|
| Vendor ID | 222a |
| Model ID | 0001 |
| Особенность | Инверсия Y (исправлено через udev) |

---

## 🔌 USB-порты (RPi 3 имеет 4 порта)

| Порт | Устройство |
|------|------------|
| USB1 | ACR1281U-C (ЕКП) |
| USB2 | IQRFID-5102 #1 (библ. карта) |
| USB3 | IQRFID-5102 #2 (книги) — **НУЖНО КУПИТЬ** |
| USB4 | Тачскрин |

⚠️ **Проблема:** 4 порта, нужно 4 устройства. Возможно понадобится USB-хаб.

---

## 📦 Что нужно докупить

| Компонент | Кол-во | Магазин | Примерная цена |
|-----------|--------|---------|----------------|
| **IQRFID-5102** | 1 шт | AliExpress "CF-RU5102" | ~3000₽ |
| USB-хаб (опционально) | 1 шт | Любой | ~500₽ |

---

## 📦 Где купить замену

| Компонент | Магазин | Примерная цена |
|-----------|---------|----------------|
| Raspberry Pi 3/4 | DNS, Ситилинк, AliExpress | 5000-8000₽ |
| БП 5V/3A | Любой | 500-1000₽ |
| ACR1281U-C | AliExpress | ~2000₽ |
| IQRFID-5102 | AliExpress "CF-RU5102" | ~3000₽ |
| Сервопривод SG90 | AliExpress | ~100₽ |

---

*Обновляй при замене/добавлении оборудования*
