# Глоссарий проекта (GLOSSARY)

> Термины которые легко перепутать. Claude должен использовать эти определения.

---

## ⚠️ КРИТИЧНЫЕ ИНВЕРСИИ

### Замки (Servo Lock)
```
Open  = язычок ОПУЩЕН (угол 0°)   = полка СВОБОДНА, книгу можно взять
Close = язычок ПОДНЯТ (угол 95°)  = полка ЗАХВАЧЕНА, книга зафиксирована
```
**Это ПРОТИВОПОЛОЖНО интуиции!** "Открыть замок" = опустить язычок.

### Датчики (Sensors)
```
LOW  (0) = датчик СРАБОТАЛ (нажат/перекрыт)
HIGH (1) = датчик СВОБОДЕН (не нажат)
```
NPN-датчики притягивают к земле при срабатывании.

---

## Оборудование

| Термин | Что это | Примечание |
|--------|---------|------------|
| **ACR1281U-C** | NFC-ридер 13.56 MHz | Читает карты (билет + ЕКП) |
| **IQRFID-5102** | UHF-ридер 860-960 MHz | Читает книжные метки |
| **RRU9816** | UHF-ридер (старый) | Требует Windows DLL, на замену |
| **GPIO Expansion Board** | Плата расширения RPi | Клеммники A-P и 1-8 |

---

## Координаты и размеры

| Термин | Значение | Примечание |
|--------|----------|------------|
| **Ряд (Row)** | 0-20 | 21 ряд, нумерация с нуля! |
| **Колонка (Col)** | 0-2 | 3 колонки |
| **Окно выдачи** | Col=1, Row=9 | Центральная колонка |
| **Ячейка** | (col, row) | Сначала колонка, потом ряд |

---

## Протоколы

### UHF RFID (IQRFID-5102)
```
Заголовок: 0xA0 (не 0x04!)
Checksum:  (~SUM + 1) & 0xFF
Скорость:  57600 (по умолчанию)
```

### ИРБИС64
```
Порт:      6666 (TCP)
Кодировка: cp1251 (не UTF-8!)
```

---

## Состояния системы

| Состояние | Описание |
|-----------|----------|
| **IDLE** | Ожидание карты |
| **AUTH** | Карта приложена, проверка в ИРБИС |
| **READY** | Пользователь авторизован |
| **GIVE** | Выдача книги (механика работает) |
| **TAKE** | Приём книги |
| **ERROR** | Ошибка (показать сообщение) |

---

## Сокращения

| Сокр. | Расшифровка |
|-------|-------------|
| **RPi** | Raspberry Pi |
| **GPIO** | General Purpose Input/Output |
| **UHF** | Ultra High Frequency (860-960 MHz) |
| **NFC** | Near Field Communication (13.56 MHz) |
| **ЕКП** | Единая Карта Петербуржца |
| **ИРБИС** | Библиотечная информационная система |
| **БП** | Блок питания |

---

*Добавляй новые термины по мере появления*
